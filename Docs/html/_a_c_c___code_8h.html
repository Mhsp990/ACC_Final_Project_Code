<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ACC: ACC_Code.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ACC<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">Detail of the operating code of an adaptive cruise controller developed for the final project of the residency in automotive software at the Federal University of Pernambuco - UFPE.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">ACC_Code.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="_a_c_c___code_8c_source.html">ACC_Code.c</a>&quot;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
</div>
<p><a href="_a_c_c___code_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9702c702ceac6b23c0340bc23f03fca3" id="r_a9702c702ceac6b23c0340bc23f03fca3"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="struct_a_c_cenable.html">ACCenable</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_a_c_c___code_8h.html#a9702c702ceac6b23c0340bc23f03fca3">logicBlockAccEnable</a> (bool <a class="el" href="_simulation_a_c_c___code_8c.html#a9470c26598e7647a6dc6405c215bb22e">aux</a>, bool <a class="el" href="_simulation_8c.html#acbc4f4aaa886a5dc0da0757aa853cf85">ACC_input</a>, bool <a class="el" href="_simulation_8c.html#a82bceca2a2b3cca1c7f65ef9e3a8027e">Fault_signal</a>, float <a class="el" href="_simulation_a_c_c___code_8c.html#ac4044dc15be87ac6a279b81143444f2e">Ego_velo</a>, bool <a class="el" href="_simulation_8c.html#a5ca4db79d52fb410de4f96e43c801a90">Gas_pedal</a>, bool <a class="el" href="_simulation_8c.html#a2af77f8378df53dc4899ea083f098e38">Brake_pedal</a>)</td></tr>
<tr class="memdesc:a9702c702ceac6b23c0340bc23f03fca3"><td class="mdescLeft">&#160;</td><td class="mdescRight">ACC enable logic block.  <br /></td></tr>
<tr class="separator:a9702c702ceac6b23c0340bc23f03fca3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a386f000156b63f3dff0448300a879c9b" id="r_a386f000156b63f3dff0448300a879c9b"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="struct_a_c_ccontrol.html">ACCcontrol</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_a_c_c___code_8h.html#a386f000156b63f3dff0448300a879c9b">accelerationControl</a> (bool <a class="el" href="_simulation_a_c_c___code_8c.html#ac21a71322990ef380730f0c211071a6c">ACC_enabled</a>, float <a class="el" href="_simulation_a_c_c___code_8c.html#ac4044dc15be87ac6a279b81143444f2e">Ego_velo</a>, float <a class="el" href="_simulation_a_c_c___code_8c.html#abf3e935bafcae937d559251be96f0054">Time_Gap</a>, float <a class="el" href="_simulation_a_c_c___code_8c.html#af0638d1d343f8057eb4417f3258f4242">ACC_speed_set</a>, float <a class="el" href="_simulation_a_c_c___code_8c.html#a34acfd270620b972681e56e1073e157a">Relative_velo</a>, float <a class="el" href="_simulation_a_c_c___code_8c.html#abec8e6854791ca180fd45812ac392e58">Relative_distance_pres</a>)</td></tr>
<tr class="separator:a386f000156b63f3dff0448300a879c9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e4499ee6d6488c81c271b3a66a4ccbe" id="r_a0e4499ee6d6488c81c271b3a66a4ccbe"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_a_c_c___code_8h.html#a0e4499ee6d6488c81c271b3a66a4ccbe">timeGap</a> (bool <a class="el" href="_simulation_a_c_c___code_8c.html#a1cde5d5ce80220d52bb5767d2301e17d">Rain_sensor</a>)</td></tr>
<tr class="memdesc:a0e4499ee6d6488c81c271b3a66a4ccbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time Gap.  <br /></td></tr>
<tr class="separator:a0e4499ee6d6488c81c271b3a66a4ccbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5799c10c74a8123d1d52caea9e5827a7" id="r_a5799c10c74a8123d1d52caea9e5827a7"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_a_c_c___code_8h.html#a5799c10c74a8123d1d52caea9e5827a7">speedSet</a> (float <a class="el" href="_simulation_a_c_c___code_8c.html#af0638d1d343f8057eb4417f3258f4242">ACC_speed_set</a>)</td></tr>
<tr class="memdesc:a5799c10c74a8123d1d52caea9e5827a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Speed Set.  <br /></td></tr>
<tr class="separator:a5799c10c74a8123d1d52caea9e5827a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a386f000156b63f3dff0448300a879c9b" name="a386f000156b63f3dff0448300a879c9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a386f000156b63f3dff0448300a879c9b">&#9670;&#160;</a></span>accelerationControl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="struct_a_c_ccontrol.html">ACCcontrol</a> accelerationControl </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>ACC_enabled</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>Ego_velo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>Time_Gap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>ACC_speed_set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>Relative_velo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>Relative_distance_pres</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Acceleration Control</p>
<p>Function responsible for calculating and defining the acceleration to reach the setspeed or reduce the speed to meet the safety distance</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ACC_enabled</td><td>Variable that defines whether ACC is on or off  </td></tr>
    <tr><td class="paramname">Ego_velo</td><td>Car speed  </td></tr>
    <tr><td class="paramname">Time_Gap</td><td>Time gap between ego car and lead car  </td></tr>
    <tr><td class="paramname">ACC_speed_set</td><td>Setspeed defined by user  </td></tr>
    <tr><td class="paramname">Relative_velo</td><td>Relative speed between ego and lead car  </td></tr>
    <tr><td class="paramname">Relative_distance_pres</td><td>Relative distance between ego car and lead car </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">   71</span>                                                                     {</div>
<div class="line"><span class="lineno">   72</span>  <span class="keyword">struct </span><a class="code hl_struct" href="struct_a_c_ccontrol.html">ACCcontrol</a> i;</div>
<div class="line"><span class="lineno">   74</span> </div>
<div class="line"><span class="lineno">   78</span>  <span class="keywordtype">float</span> <a class="code hl_variable" href="_simulation_a_c_c___code_8c.html#a4afee67ae19c4a23846ae4f4fe8f6581">SafeD_relD</a>                 = 0;   <span class="comment">// Difference between safe and relative distance</span></div>
<div class="line"><span class="lineno">   79</span>  <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code hl_variable" href="_simulation_a_c_c___code_8c.html#a6f8d6e73b450c1a075effff099511a07">D_default</a>            = 10;  <span class="comment">// Standard distance</span></div>
<div class="line"><span class="lineno">   80</span>  <span class="keywordtype">float</span> <a class="code hl_variable" href="_simulation_a_c_c___code_8c.html#a3ad2e1d26cda4f171c7e97b9d4754791">Control_x</a>                  = 0;   <span class="comment">// Intermediate variable to calculate relative distance </span></div>
<div class="line"><span class="lineno">   81</span>  <span class="keywordtype">float</span> <a class="code hl_variable" href="_simulation_a_c_c___code_8c.html#a26907b6c3e4a1be2a4a2456d906469a1">Control_v</a>                  = 0;   <span class="comment">// Intermediate variable to calculate relative distance</span></div>
<div class="line"><span class="lineno">   82</span>  <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code hl_variable" href="_simulation_8c.html#a19f9c8d588c878138bb53677277486d2">Kverr_gain</a>           = 0.5; <span class="comment">// Model gain</span></div>
<div class="line"><span class="lineno">   83</span>  <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code hl_variable" href="_simulation_8c.html#acd139192a15ab7e2e0a7d55d60cd1d9e">Kxerr_gain</a>           = 0.02;<span class="comment">// Model gain</span></div>
<div class="line"><span class="lineno">   84</span>  <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code hl_variable" href="_simulation_8c.html#a3a67f9dc88562eeddb9c0abe7d8b9d88">Kvx_gain</a>             = 0.04;<span class="comment">// Model gain</span></div>
<div class="line"><span class="lineno">   85</span>  <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code hl_variable" href="_simulation_8c.html#ad8c674482d700191da4df4dc627729d3">Ego_acceleration_min</a> = -5;  <span class="comment">// Minimum ego car acceleration</span></div>
<div class="line"><span class="lineno">   86</span>  <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code hl_variable" href="_simulation_8c.html#a3112cac93f77e9cc17c218a63204bf96">Ego_acceleration_max</a> = 1.47;<span class="comment">// Max ego car acceleration</span></div>
<div class="line"><span class="lineno">   87</span> </div>
<div class="line"><span class="lineno">   88</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="_simulation_a_c_c___code_8c.html#ac21a71322990ef380730f0c211071a6c">ACC_enabled</a>) {<span class="comment">// Test if acc is ON/OFF</span></div>
<div class="line"><span class="lineno">   89</span>    i.<a class="code hl_variable" href="struct_a_c_ccontrol.html#a100acb7cdf1ca545aefa7723dc9d3b57">Safe_distance</a> = (<a class="code hl_variable" href="_simulation_a_c_c___code_8c.html#ac4044dc15be87ac6a279b81143444f2e">Ego_velo</a> * <a class="code hl_variable" href="_simulation_a_c_c___code_8c.html#abf3e935bafcae937d559251be96f0054">Time_Gap</a>) + <a class="code hl_variable" href="_simulation_a_c_c___code_8c.html#a6f8d6e73b450c1a075effff099511a07">D_default</a>;</div>
<div class="line"><span class="lineno">   90</span>    <a class="code hl_variable" href="_simulation_a_c_c___code_8c.html#a4afee67ae19c4a23846ae4f4fe8f6581">SafeD_relD</a> = i.Safe_distance - <a class="code hl_variable" href="_simulation_a_c_c___code_8c.html#abec8e6854791ca180fd45812ac392e58">Relative_distance_pres</a>;</div>
<div class="line"><span class="lineno">   91</span>    <a class="code hl_variable" href="_simulation_a_c_c___code_8c.html#a3ad2e1d26cda4f171c7e97b9d4754791">Control_x</a> = (<a class="code hl_variable" href="_simulation_a_c_c___code_8c.html#a34acfd270620b972681e56e1073e157a">Relative_velo</a> * <a class="code hl_variable" href="_simulation_8c.html#a3a67f9dc88562eeddb9c0abe7d8b9d88">Kvx_gain</a>) - ((i.Safe_distance - <a class="code hl_variable" href="_simulation_a_c_c___code_8c.html#abec8e6854791ca180fd45812ac392e58">Relative_distance_pres</a>) * <a class="code hl_variable" href="_simulation_8c.html#acd139192a15ab7e2e0a7d55d60cd1d9e">Kxerr_gain</a>);</div>
<div class="line"><span class="lineno">   92</span>    <a class="code hl_variable" href="_simulation_a_c_c___code_8c.html#a26907b6c3e4a1be2a4a2456d906469a1">Control_v</a> = (<a class="code hl_variable" href="_simulation_a_c_c___code_8c.html#af0638d1d343f8057eb4417f3258f4242">ACC_speed_set</a> - <a class="code hl_variable" href="_simulation_a_c_c___code_8c.html#ac4044dc15be87ac6a279b81143444f2e">Ego_velo</a>) * <a class="code hl_variable" href="_simulation_8c.html#a19f9c8d588c878138bb53677277486d2">Kverr_gain</a>;</div>
<div class="line"><span class="lineno">   93</span>  <span class="comment">// Test whether it is possible to use ACC safely</span></div>
<div class="line"><span class="lineno">   94</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="_simulation_a_c_c___code_8c.html#a4afee67ae19c4a23846ae4f4fe8f6581">SafeD_relD</a> &gt; 0) {</div>
<div class="line"><span class="lineno">   95</span>      i.Acceleration = (<a class="code hl_variable" href="_simulation_a_c_c___code_8c.html#a34acfd270620b972681e56e1073e157a">Relative_velo</a> * <a class="code hl_variable" href="_simulation_8c.html#a3a67f9dc88562eeddb9c0abe7d8b9d88">Kvx_gain</a>) - (<a class="code hl_variable" href="_simulation_a_c_c___code_8c.html#a4afee67ae19c4a23846ae4f4fe8f6581">SafeD_relD</a> * <a class="code hl_variable" href="_simulation_8c.html#acd139192a15ab7e2e0a7d55d60cd1d9e">Kxerr_gain</a>);</div>
<div class="line"><span class="lineno">   96</span> </div>
<div class="line"><span class="lineno">   97</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   98</span>      i.Acceleration = (<a class="code hl_variable" href="_simulation_a_c_c___code_8c.html#a3ad2e1d26cda4f171c7e97b9d4754791">Control_x</a> &lt; <a class="code hl_variable" href="_simulation_a_c_c___code_8c.html#a26907b6c3e4a1be2a4a2456d906469a1">Control_v</a>) ? <a class="code hl_variable" href="_simulation_a_c_c___code_8c.html#a3ad2e1d26cda4f171c7e97b9d4754791">Control_x</a> : <a class="code hl_variable" href="_simulation_a_c_c___code_8c.html#a26907b6c3e4a1be2a4a2456d906469a1">Control_v</a>;</div>
<div class="line"><span class="lineno">   99</span>    }</div>
<div class="line"><span class="lineno">  100</span>    i.Acceleration = (i.Acceleration &lt; <a class="code hl_variable" href="_simulation_8c.html#ad8c674482d700191da4df4dc627729d3">Ego_acceleration_min</a>) ?</div>
<div class="line"><span class="lineno">  101</span>    <a class="code hl_variable" href="_simulation_8c.html#ad8c674482d700191da4df4dc627729d3">Ego_acceleration_min</a> : (i.<a class="code hl_variable" href="_simulation_a_c_c___code_8c.html#a9fb7b7e941fa4bce2acd85fd08a2e36e">Acceleration</a> &gt; <a class="code hl_variable" href="_simulation_8c.html#a3112cac93f77e9cc17c218a63204bf96">Ego_acceleration_max</a>) ? </div>
<div class="line"><span class="lineno">  102</span>    <a class="code hl_variable" href="_simulation_8c.html#a3112cac93f77e9cc17c218a63204bf96">Ego_acceleration_max</a> : i.<a class="code hl_variable" href="_simulation_a_c_c___code_8c.html#a9fb7b7e941fa4bce2acd85fd08a2e36e">Acceleration</a>;</div>
<div class="line"><span class="lineno">  103</span>    <span class="keywordflow">return</span> i;</div>
<div class="line"><span class="lineno">  104</span>    <span class="comment">// If the safety conditions are not accepted, do not accelerate the car</span></div>
<div class="line"><span class="lineno">  105</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  106</span>    i.Acceleration = 0;</div>
<div class="line"><span class="lineno">  107</span>    <span class="keywordflow">return</span> i;</div>
<div class="line"><span class="lineno">  108</span>  }</div>
<div class="line"><span class="lineno">  109</span>}</div>
<div class="ttc" id="a_simulation_8c_html_a19f9c8d588c878138bb53677277486d2"><div class="ttname"><a href="_simulation_8c.html#a19f9c8d588c878138bb53677277486d2">Kverr_gain</a></div><div class="ttdeci">const float Kverr_gain</div><div class="ttdef"><b>Definition</b> Simulation.c:13</div></div>
<div class="ttc" id="a_simulation_8c_html_a3112cac93f77e9cc17c218a63204bf96"><div class="ttname"><a href="_simulation_8c.html#a3112cac93f77e9cc17c218a63204bf96">Ego_acceleration_max</a></div><div class="ttdeci">const float Ego_acceleration_max</div><div class="ttdef"><b>Definition</b> Simulation.c:17</div></div>
<div class="ttc" id="a_simulation_8c_html_a3a67f9dc88562eeddb9c0abe7d8b9d88"><div class="ttname"><a href="_simulation_8c.html#a3a67f9dc88562eeddb9c0abe7d8b9d88">Kvx_gain</a></div><div class="ttdeci">const float Kvx_gain</div><div class="ttdef"><b>Definition</b> Simulation.c:15</div></div>
<div class="ttc" id="a_simulation_8c_html_acd139192a15ab7e2e0a7d55d60cd1d9e"><div class="ttname"><a href="_simulation_8c.html#acd139192a15ab7e2e0a7d55d60cd1d9e">Kxerr_gain</a></div><div class="ttdeci">const float Kxerr_gain</div><div class="ttdef"><b>Definition</b> Simulation.c:14</div></div>
<div class="ttc" id="a_simulation_8c_html_ad8c674482d700191da4df4dc627729d3"><div class="ttname"><a href="_simulation_8c.html#ad8c674482d700191da4df4dc627729d3">Ego_acceleration_min</a></div><div class="ttdeci">const float Ego_acceleration_min</div><div class="ttdef"><b>Definition</b> Simulation.c:16</div></div>
<div class="ttc" id="a_simulation_a_c_c___code_8c_html_a26907b6c3e4a1be2a4a2456d906469a1"><div class="ttname"><a href="_simulation_a_c_c___code_8c.html#a26907b6c3e4a1be2a4a2456d906469a1">Control_v</a></div><div class="ttdeci">float Control_v</div><div class="ttdef"><b>Definition</b> SimulationACC_Code.c:34</div></div>
<div class="ttc" id="a_simulation_a_c_c___code_8c_html_a34acfd270620b972681e56e1073e157a"><div class="ttname"><a href="_simulation_a_c_c___code_8c.html#a34acfd270620b972681e56e1073e157a">Relative_velo</a></div><div class="ttdeci">float Relative_velo</div><div class="ttdef"><b>Definition</b> SimulationACC_Code.c:10</div></div>
<div class="ttc" id="a_simulation_a_c_c___code_8c_html_a3ad2e1d26cda4f171c7e97b9d4754791"><div class="ttname"><a href="_simulation_a_c_c___code_8c.html#a3ad2e1d26cda4f171c7e97b9d4754791">Control_x</a></div><div class="ttdeci">float Control_x</div><div class="ttdef"><b>Definition</b> SimulationACC_Code.c:35</div></div>
<div class="ttc" id="a_simulation_a_c_c___code_8c_html_a4afee67ae19c4a23846ae4f4fe8f6581"><div class="ttname"><a href="_simulation_a_c_c___code_8c.html#a4afee67ae19c4a23846ae4f4fe8f6581">SafeD_relD</a></div><div class="ttdeci">float SafeD_relD</div><div class="ttdef"><b>Definition</b> SimulationACC_Code.c:36</div></div>
<div class="ttc" id="a_simulation_a_c_c___code_8c_html_a6f8d6e73b450c1a075effff099511a07"><div class="ttname"><a href="_simulation_a_c_c___code_8c.html#a6f8d6e73b450c1a075effff099511a07">D_default</a></div><div class="ttdeci">const float D_default</div><div class="ttdef"><b>Definition</b> SimulationACC_Code.c:25</div></div>
<div class="ttc" id="a_simulation_a_c_c___code_8c_html_a9fb7b7e941fa4bce2acd85fd08a2e36e"><div class="ttname"><a href="_simulation_a_c_c___code_8c.html#a9fb7b7e941fa4bce2acd85fd08a2e36e">Acceleration</a></div><div class="ttdeci">float Acceleration</div><div class="ttdef"><b>Definition</b> SimulationACC_Code.c:32</div></div>
<div class="ttc" id="a_simulation_a_c_c___code_8c_html_abec8e6854791ca180fd45812ac392e58"><div class="ttname"><a href="_simulation_a_c_c___code_8c.html#abec8e6854791ca180fd45812ac392e58">Relative_distance_pres</a></div><div class="ttdeci">float Relative_distance_pres</div><div class="ttdef"><b>Definition</b> SimulationACC_Code.c:15</div></div>
<div class="ttc" id="a_simulation_a_c_c___code_8c_html_abf3e935bafcae937d559251be96f0054"><div class="ttname"><a href="_simulation_a_c_c___code_8c.html#abf3e935bafcae937d559251be96f0054">Time_Gap</a></div><div class="ttdeci">float Time_Gap</div><div class="ttdef"><b>Definition</b> SimulationACC_Code.c:27</div></div>
<div class="ttc" id="a_simulation_a_c_c___code_8c_html_ac21a71322990ef380730f0c211071a6c"><div class="ttname"><a href="_simulation_a_c_c___code_8c.html#ac21a71322990ef380730f0c211071a6c">ACC_enabled</a></div><div class="ttdeci">bool ACC_enabled</div><div class="ttdef"><b>Definition</b> SimulationACC_Code.c:49</div></div>
<div class="ttc" id="a_simulation_a_c_c___code_8c_html_ac4044dc15be87ac6a279b81143444f2e"><div class="ttname"><a href="_simulation_a_c_c___code_8c.html#ac4044dc15be87ac6a279b81143444f2e">Ego_velo</a></div><div class="ttdeci">float Ego_velo</div><div class="ttdef"><b>Definition</b> SimulationACC_Code.c:19</div></div>
<div class="ttc" id="a_simulation_a_c_c___code_8c_html_af0638d1d343f8057eb4417f3258f4242"><div class="ttname"><a href="_simulation_a_c_c___code_8c.html#af0638d1d343f8057eb4417f3258f4242">ACC_speed_set</a></div><div class="ttdeci">float ACC_speed_set</div><div class="ttdef"><b>Definition</b> SimulationACC_Code.c:47</div></div>
<div class="ttc" id="astruct_a_c_ccontrol_html"><div class="ttname"><a href="struct_a_c_ccontrol.html">ACCcontrol</a></div><div class="ttdef"><b>Definition</b> ACC_Code.c:11</div></div>
<div class="ttc" id="astruct_a_c_ccontrol_html_a100acb7cdf1ca545aefa7723dc9d3b57"><div class="ttname"><a href="struct_a_c_ccontrol.html#a100acb7cdf1ca545aefa7723dc9d3b57">ACCcontrol::Safe_distance</a></div><div class="ttdeci">float Safe_distance</div><div class="ttdef"><b>Definition</b> ACC_Code.c:13</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9702c702ceac6b23c0340bc23f03fca3" name="a9702c702ceac6b23c0340bc23f03fca3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9702c702ceac6b23c0340bc23f03fca3">&#9670;&#160;</a></span>logicBlockAccEnable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="struct_a_c_cenable.html">ACCenable</a> logicBlockAccEnable </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>aux</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>ACC_input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>Fault_signal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>Ego_velo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>Gas_pedal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>Brake_pedal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ACC enable logic block. </p>
<p>This function has the role of checking whether or not it is possible to activate the ACC </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aux</td><td>Auxiliary variable  </td></tr>
    <tr><td class="paramname">ACC_input</td><td>ACC input is the variable that defines whether or not the user-defined ACC works  </td></tr>
    <tr><td class="paramname">Fault_signal</td><td>Fault signal is the variable that checks whether the sensors are working correctly  </td></tr>
    <tr><td class="paramname">Ego_velo</td><td>Ego velocity is the current speed of the vehicle  </td></tr>
    <tr><td class="paramname">Gas_pedal</td><td>It is the variable that identifies whether the accelerator pedal is pressed  </td></tr>
    <tr><td class="paramname">Brake_pedal</td><td>It is the variable that identifies whether the brake pedal is pressed </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">   25</span>                                       {</div>
<div class="line"><span class="lineno">   26</span>  <span class="keyword">struct </span><a class="code hl_struct" href="struct_a_c_cenable.html">ACCenable</a> index;</div>
<div class="line"><span class="lineno">   27</span> </div>
<div class="line"><span class="lineno">   28</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="_simulation_a_c_c___code_8c.html#a9470c26598e7647a6dc6405c215bb22e">aux</a> == 0 &amp;&amp; <a class="code hl_variable" href="_simulation_8c.html#acbc4f4aaa886a5dc0da0757aa853cf85">ACC_input</a> == 1 &amp;&amp; <a class="code hl_variable" href="_simulation_8c.html#a82bceca2a2b3cca1c7f65ef9e3a8027e">Fault_signal</a> == 0 &amp;&amp; <a class="code hl_variable" href="_simulation_a_c_c___code_8c.html#ac4044dc15be87ac6a279b81143444f2e">Ego_velo</a> &gt;= 11 &amp;&amp; <a class="code hl_variable" href="_simulation_8c.html#a5ca4db79d52fb410de4f96e43c801a90">Gas_pedal</a> == 0 &amp;&amp; <a class="code hl_variable" href="_simulation_8c.html#a2af77f8378df53dc4899ea083f098e38">Brake_pedal</a> == 0) {</div>
<div class="line"><span class="lineno">   29</span>    index.<a class="code hl_variable" href="struct_a_c_cenable.html#a9470c26598e7647a6dc6405c215bb22e">aux</a> = 1;</div>
<div class="line"><span class="lineno">   30</span>    index.ACC_enabled = 1;</div>
<div class="line"><span class="lineno">   31</span>    <span class="keywordflow">return</span> index;</div>
<div class="line"><span class="lineno">   32</span> </div>
<div class="line"><span class="lineno">   33</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   34</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="_simulation_8c.html#acbc4f4aaa886a5dc0da0757aa853cf85">ACC_input</a> == 1 &amp;&amp; <a class="code hl_variable" href="_simulation_a_c_c___code_8c.html#a9470c26598e7647a6dc6405c215bb22e">aux</a> == 1 &amp;&amp; <a class="code hl_variable" href="_simulation_8c.html#a82bceca2a2b3cca1c7f65ef9e3a8027e">Fault_signal</a> == 0 &amp;&amp; <a class="code hl_variable" href="_simulation_8c.html#a5ca4db79d52fb410de4f96e43c801a90">Gas_pedal</a> == 0 &amp;&amp; <a class="code hl_variable" href="_simulation_8c.html#a2af77f8378df53dc4899ea083f098e38">Brake_pedal</a> == 0) {</div>
<div class="line"><span class="lineno">   35</span>      index.ACC_enabled = 1;</div>
<div class="line"><span class="lineno">   36</span> </div>
<div class="line"><span class="lineno">   37</span>      <span class="keywordflow">return</span> index;</div>
<div class="line"><span class="lineno">   38</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   39</span>      index.ACC_enabled = 0;</div>
<div class="line"><span class="lineno">   40</span>      index.aux = 0;</div>
<div class="line"><span class="lineno">   41</span>      <span class="keywordflow">return</span> index;</div>
<div class="line"><span class="lineno">   42</span>    }</div>
<div class="line"><span class="lineno">   43</span>  }</div>
<div class="line"><span class="lineno">   44</span>}</div>
<div class="ttc" id="a_simulation_8c_html_a2af77f8378df53dc4899ea083f098e38"><div class="ttname"><a href="_simulation_8c.html#a2af77f8378df53dc4899ea083f098e38">Brake_pedal</a></div><div class="ttdeci">int Brake_pedal</div><div class="ttdef"><b>Definition</b> Simulation.c:23</div></div>
<div class="ttc" id="a_simulation_8c_html_a5ca4db79d52fb410de4f96e43c801a90"><div class="ttname"><a href="_simulation_8c.html#a5ca4db79d52fb410de4f96e43c801a90">Gas_pedal</a></div><div class="ttdeci">int Gas_pedal</div><div class="ttdef"><b>Definition</b> Simulation.c:22</div></div>
<div class="ttc" id="a_simulation_8c_html_a82bceca2a2b3cca1c7f65ef9e3a8027e"><div class="ttname"><a href="_simulation_8c.html#a82bceca2a2b3cca1c7f65ef9e3a8027e">Fault_signal</a></div><div class="ttdeci">int Fault_signal</div><div class="ttdef"><b>Definition</b> Simulation.c:21</div></div>
<div class="ttc" id="a_simulation_8c_html_acbc4f4aaa886a5dc0da0757aa853cf85"><div class="ttname"><a href="_simulation_8c.html#acbc4f4aaa886a5dc0da0757aa853cf85">ACC_input</a></div><div class="ttdeci">int ACC_input</div><div class="ttdef"><b>Definition</b> Simulation.c:20</div></div>
<div class="ttc" id="a_simulation_a_c_c___code_8c_html_a9470c26598e7647a6dc6405c215bb22e"><div class="ttname"><a href="_simulation_a_c_c___code_8c.html#a9470c26598e7647a6dc6405c215bb22e">aux</a></div><div class="ttdeci">bool aux</div><div class="ttdef"><b>Definition</b> SimulationACC_Code.c:50</div></div>
<div class="ttc" id="astruct_a_c_cenable_html"><div class="ttname"><a href="struct_a_c_cenable.html">ACCenable</a></div><div class="ttdef"><b>Definition</b> ACC_Code.c:6</div></div>
<div class="ttc" id="astruct_a_c_cenable_html_a9470c26598e7647a6dc6405c215bb22e"><div class="ttname"><a href="struct_a_c_cenable.html#a9470c26598e7647a6dc6405c215bb22e">ACCenable::aux</a></div><div class="ttdeci">bool aux</div><div class="ttdef"><b>Definition</b> ACC_Code.c:8</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5799c10c74a8123d1d52caea9e5827a7" name="a5799c10c74a8123d1d52caea9e5827a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5799c10c74a8123d1d52caea9e5827a7">&#9670;&#160;</a></span>speedSet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float speedSet </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>ACC_speed_set</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Speed Set. </p>
<p>This variable's function is to receive the desired speed value from the user and check whether it is possible to turn on the ACC by checking the speed range defined in the requirements. <br  />
 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ACC_speed_set</td><td>Setspeed defined by user </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">   57</span>                                     { </div>
<div class="line"><span class="lineno">   58</span>  <span class="keywordtype">float</span> ACC_speed_set_max = 120.0;</div>
<div class="line"><span class="lineno">   59</span>  <span class="keywordtype">float</span> ACC_speed_set_min = 40.0;</div>
<div class="line"><span class="lineno">   60</span>  <a class="code hl_variable" href="_simulation_a_c_c___code_8c.html#af0638d1d343f8057eb4417f3258f4242">ACC_speed_set</a> = (<a class="code hl_variable" href="_simulation_a_c_c___code_8c.html#af0638d1d343f8057eb4417f3258f4242">ACC_speed_set</a> &lt; ACC_speed_set_min) ?</div>
<div class="line"><span class="lineno">   61</span>  ACC_speed_set_min : (<a class="code hl_variable" href="_simulation_a_c_c___code_8c.html#af0638d1d343f8057eb4417f3258f4242">ACC_speed_set</a> &gt; ACC_speed_set_max) ? </div>
<div class="line"><span class="lineno">   62</span>  ACC_speed_set_max : <a class="code hl_variable" href="_simulation_a_c_c___code_8c.html#af0638d1d343f8057eb4417f3258f4242">ACC_speed_set</a>;</div>
<div class="line"><span class="lineno">   63</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="_simulation_a_c_c___code_8c.html#af0638d1d343f8057eb4417f3258f4242">ACC_speed_set</a>;</div>
<div class="line"><span class="lineno">   64</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0e4499ee6d6488c81c271b3a66a4ccbe" name="a0e4499ee6d6488c81c271b3a66a4ccbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e4499ee6d6488c81c271b3a66a4ccbe">&#9670;&#160;</a></span>timeGap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float timeGap </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>Rain_sensor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Time Gap. </p>
<p>This function focuses on calculating the time gap between the car and the lead car </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Rain_sensor</td><td>Variable that receives whether there is rain or not </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">   48</span>                                 { </div>
<div class="line"><span class="lineno">   49</span>  <span class="keywordtype">float</span> <a class="code hl_variable" href="_simulation_a_c_c___code_8c.html#abf3e935bafcae937d559251be96f0054">Time_Gap</a> = 3;</div>
<div class="line"><span class="lineno">   50</span>  <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code hl_variable" href="_simulation_a_c_c___code_8c.html#ab8b2c911e40397febd1d7c32a452ab9b">Default_Time_Gap</a> = 3;</div>
<div class="line"><span class="lineno">   51</span>  <a class="code hl_variable" href="_simulation_a_c_c___code_8c.html#abf3e935bafcae937d559251be96f0054">Time_Gap</a> = <a class="code hl_variable" href="_simulation_a_c_c___code_8c.html#a1cde5d5ce80220d52bb5767d2301e17d">Rain_sensor</a> ? <a class="code hl_variable" href="_simulation_a_c_c___code_8c.html#ab8b2c911e40397febd1d7c32a452ab9b">Default_Time_Gap</a> * 2 : <a class="code hl_variable" href="_simulation_a_c_c___code_8c.html#ab8b2c911e40397febd1d7c32a452ab9b">Default_Time_Gap</a>;</div>
<div class="line"><span class="lineno">   52</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="_simulation_a_c_c___code_8c.html#abf3e935bafcae937d559251be96f0054">Time_Gap</a>;</div>
<div class="line"><span class="lineno">   53</span>}</div>
<div class="ttc" id="a_simulation_a_c_c___code_8c_html_a1cde5d5ce80220d52bb5767d2301e17d"><div class="ttname"><a href="_simulation_a_c_c___code_8c.html#a1cde5d5ce80220d52bb5767d2301e17d">Rain_sensor</a></div><div class="ttdeci">bool Rain_sensor</div><div class="ttdef"><b>Definition</b> SimulationACC_Code.c:42</div></div>
<div class="ttc" id="a_simulation_a_c_c___code_8c_html_ab8b2c911e40397febd1d7c32a452ab9b"><div class="ttname"><a href="_simulation_a_c_c___code_8c.html#ab8b2c911e40397febd1d7c32a452ab9b">Default_Time_Gap</a></div><div class="ttdeci">const float Default_Time_Gap</div><div class="ttdef"><b>Definition</b> SimulationACC_Code.c:26</div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
